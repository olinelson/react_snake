(this.webpackJsonpreact_snake=this.webpackJsonpreact_snake||[]).push([[0],{150:function(e,n,t){e.exports=t(301)},155:function(e,n,t){},158:function(e,n){},301:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(4),i=t.n(o),c=(t(155),t(21)),l=t(3),s=t(67),u=t(33),f=t(34),d=t(68),g=t(308),h=t(309),p=t(310),m=t(311),v=t(35),b=t(26),k=t(305),w=t(304),y=t(306);t(158);function O(){var e=Object(f.a)(['\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  grid-template-areas: \n  ". up ."\n  "left . right"\n  ". down ."\n  ;\n']);return O=function(){return e},e}function j(){var e=Object(f.a)(['\n  height: 100vh;\n  overflow: hidden;\n  width: 100vw;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: auto auto 1fr auto auto 1fr ;\n  align-items: center;\n  justify-items: center;\n  align-content: center;\n  grid-gap: 1rem;\n  grid-template-areas:\n  "heading"\n  "score"\n  "game"\n  "controls"\n  "."\n  ;\n']);return j=function(){return e},e}function E(){var e=Object(f.a)(["\n    background: white;\n  "]);return E=function(){return e},e}function A(){var e=Object(f.a)(["\n    background: red;\n\n  "]);return A=function(){return e},e}function P(){var e=Object(f.a)(["\n    background: black;\n    padding: 1px solid white;\n  "]);return P=function(){return e},e}function S(){var e=Object(f.a)(["\n    display: grid;\n    border: 3px solid black;\n    grid-template-columns: ",";\n    width: 20rem;\n    height: 20rem;\n    \n    grid-gap: 1px;\n    align-self: center;\n    justify-self: center;\n  "]);return S=function(){return e},e}var W=v.a.div(S(),(function(e){return"repeat(".concat(e.boardSize,", 1fr)")})),C=v.a.div(P()),I=v.a.div(A()),R=v.a.div(E()),x=v.a.div(j()),z=v.a.div(O()),L=function(){return Math.floor(16*Math.random())+0},M={score:0,gameOver:!1,board:Array.from({length:16},(function(e,n){return Array.from({length:16},(function(e,n){return 0}))})),snakePosition:[[1,1],[1,2],[1,3]],applePosition:[L(),L()]},U=function(){var e=Object(r.useRef)(),n=new Audio("./click.mp3"),t=new Audio("./crunch.mp3"),o=new Audio("./error.mp3");n.crossOrigin="anonymous",t.crossOrigin="anonymous",o.crossOrigin="anonymous";var i=Object(r.useRef)(null),f=Object(r.useState)("right"),v=Object(u.a)(f,2),O=v[0],j=v[1],E=Object(r.useState)(M),A=Object(u.a)(E,2),P=A[0],S=A[1],U=function(e,n){var t,r=Object(s.a)(P.snakePosition);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a[0]===e&&a[1]===n)return!0}}catch(o){r.e(o)}finally{r.f()}return!1};return Object(r.useEffect)((function(){var n=function(e,n){if(U(n[0],n[1]))return o.play(),void S((function(e){return Object(c.a)({},e,{gameOver:!0})}));if(P.snakePosition[P.snakePosition.length-1][0]!==P.applePosition[0]||P.snakePosition[P.snakePosition.length-1][1]!==P.applePosition[1])S((function(n){return Object(c.a)({},n,{snakePosition:e})}));else{t.play(),e.push(n);var r=P.score+1;S((function(n){return Object(c.a)({},n,{score:r,applePosition:[L(),L()],snakePosition:e})}))}};return e.current=setInterval((function(){switch(O){case"right":!function(){var e=Object(l.a)(P.snakePosition);e.splice(0,1);var t=Object(l.a)(e[e.length-1]);t[1]+=1,t[1]>15&&(t[1]=0),e.push(t),n(e,t)}();break;case"down":!function(){var e=Object(l.a)(P.snakePosition);e.splice(0,1);var t=Object(l.a)(e[e.length-1]);t[0]+=1,t[0]>15&&(t[0]=0),e.push(t),n(e,t)}();break;case"left":!function(){var e=Object(l.a)(P.snakePosition);e.splice(0,1);var t=Object(l.a)(e[e.length-1]);t[1]-=1,t[1]<0&&(t[1]=15),e.push(t),n(e,t)}();break;case"up":!function(){var e=Object(l.a)(P.snakePosition);e.splice(0,1);var t=Object(l.a)(e[e.length-1]);t[0]-=1,t[0]<0&&(t[0]=15),e.push(t),n(e,t)}()}}),150),P.gameOver&&clearInterval(e.current),function(){return clearInterval(e.current)}}),[P,n,o,t,O,U]),Object(r.useEffect)((function(){var e=function(e){switch(n.play(),e.key){case"ArrowUp":j("up");break;case"ArrowRight":j("right");break;case"ArrowDown":j("down");break;case"ArrowLeft":j("left")}};return i.current.focus(),document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n]),a.a.createElement(a.a.Fragment,null,a.a.createElement(x,null,a.a.createElement("h1",{style:{gridArea:"heading"}},"Sn8k M8"),a.a.createElement("h4",{style:{gridArea:"score"}},P.score),a.a.createElement(W,{ref:i,style:{gridArea:"game"},boardSize:16,tabIndex:"0"},function(){var e,n=0,t=[],r=Object(s.a)(P.board);try{for(r.s();!(e=r.n()).done;){var o,i=e.value,c=0,l=Object(s.a)(i);try{for(l.s();!(o=l.n()).done;){o.value;U(n,c)?t.push(a.a.createElement(C,{key:Object(d.v4)()})):P.applePosition[0]===n&&P.applePosition[1]===c?t.push(a.a.createElement(I,{key:Object(d.v4)()})):t.push(a.a.createElement(R,{key:Object(d.v4)()})),c++}}catch(u){l.e(u)}finally{l.f()}n++}}catch(u){r.e(u)}finally{r.f()}return t}()),a.a.createElement(z,{style:{gridArea:"controls"}},a.a.createElement(b.a,{size:"large",shape:"circle",onClick:function(){return S((function(e){return Object(c.a)({},e,{direction:"up"})}))},style:{gridArea:"up"}},a.a.createElement(g.a,null)),a.a.createElement(b.a,{size:"large",shape:"circle",onClick:function(){return S((function(e){return Object(c.a)({},e,{direction:"left"})}))},style:{gridArea:"left"}},a.a.createElement(h.a,null)),a.a.createElement(b.a,{size:"large",shape:"circle",onClick:function(){return S((function(e){return Object(c.a)({},e,{direction:"right"})}))},style:{gridArea:"right"}},a.a.createElement(p.a,null)),a.a.createElement(b.a,{size:"large",shape:"circle",onClick:function(){return S((function(e){return Object(c.a)({},e,{direction:"down"})}))},style:{gridArea:"down"}},a.a.createElement(m.a,null)))),a.a.createElement(k.a,{visible:P.gameOver,closable:!1,footer:null},a.a.createElement(w.a,{onFinish:function(e){return function(e){console.log(e),j("right"),S(M)}(Object(c.a)({},e,{score:P.score}))}},a.a.createElement("h1",null,"Game Over"),a.a.createElement("h4",null,"Your Score was: ",P.score),a.a.createElement("p",null,"Record your name for posterity!"),a.a.createElement(w.a.Item,{name:"name",label:"Name"},a.a.createElement(y.a,null)),a.a.createElement(w.a.Item,null,a.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Play Again")))))},_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(300);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(U,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react_snake",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/react_snake","/service-worker.js");_?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(n,e)}))}}()}},[[150,1,2]]]);
//# sourceMappingURL=main.bb6b75d2.chunk.js.map